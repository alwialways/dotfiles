# Automatically create missing mailboxes, both locally and on the server
Create Both
# Save the synchronization state files in the relevant directory
SyncState *

IMAPAccount gmail
# Address to connect to
Host imap.gmail.com
User felipebrokate@gmail.com
PassCmd "pass Mail/Gmail"
# Use SSL
SSLType IMAPS
CertificateFile /etc/ssl/certs/ca-certificates.crt

IMAPStore gmail-remote
Account gmail

MaildirStore gmail-local
Subfolders Verbatim
# The trailing "/" is important
Path ~/.mail/gmail/
Inbox ~/.mail/gmail/Inbox

Channel gmail-inbox
Master :gmail-remote:
Slave :gmail-local:
Patterns "INBOX"

Channel gmail-sent
Master :gmail-remote:"[Gmail]/Sent Mail"
Slave :gmail-local:sent

Channel gmail-drafts
Master :gmail-remote:"[Gmail]/Drafts"
Slave :gmail-local:drafts

Channel gmail-spam
Master :gmail-remote:"[Gmail]/Spam"
Slave :gmail-local:spam

Channel gmail-trash
Master :gmail-remote:"[Gmail]/Trash"
Slave :gmail-local:trash

Channel gmail-archives
Master :gmail-remote:"Archives"
Slave :gmail-local:archives

Group gmail
Channel gmail-inbox
Channel gmail-drafts
Channel gmail-spam
Channel gmail-trash
Channel gmail-sent
Channel gmail-archives

# Gmail mailboxes:
# "All Mail"
# "Drafts"
# "Important"
# "Sent Mail"
# "Spam"
# "Starred"
# "Trash"


###############
#  Ministere  #
###############

IMAPAccount ministere
# Address to connect to
Host localhost # icasso22.mel75.si.mi
User cristian.brokate@interieur.gouv.fr
PassCmd "pass Ministere/Mail"
# Use SSL
SSLType IMAPS
Port 1993
# openssl s_client -connect localhost:1993 -showcerts 2>&1 < /dev/null | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' | cat > ministere.crt
CertificateFile ~/.mutt/certificates/ministere.crt

IMAPStore ministere-remote
Account ministere

MaildirStore ministere-local
Subfolders Verbatim
# The trailing "/" is important
Path ~/.mail/ministere/
Inbox ~/.mail/ministere/Inbox

Channel ministere
Master :ministere-remote:
Slave :ministere-local:
# Exclude everything under the internal [Gmail] folder, except the interesting folders
Patterns * ![ministere]* "[ministere]/Sent Mail" "[ministere]/Starred" "[ministere]/All Mail"
# Or include everything
#Patterns *
# Automatically create missing mailboxes, both locally and on the server
Create Both
# Save the synchronization state files in the relevant directory
SyncState *
